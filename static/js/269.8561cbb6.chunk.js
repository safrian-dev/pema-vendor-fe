"use strict";(self.webpackChunkmaterialpro_main=self.webpackChunkmaterialpro_main||[]).push([[269],{977:(e,a,s)=>{s.d(a,{F:()=>i,Z:()=>l});s(2791);var n=s(5218),t=s(184);const i=()=>(0,t.jsx)(n.x7,{toastOptions:{className:"",style:{}}}),l=(e,a)=>{((e,a)=>{"success"===e?n.ZP.success(a):"create"===e?(0,n.ZP)(a,{icon:"\ud83e\udd17"}):"start"===e?(0,n.ZP)("Lets get started, cheer up!",{icon:"\ud83d\udcaa"}):"done"===e?(0,n.ZP)("Horeee, task done!",{icon:"\ud83d\udc4f"}):n.ZP.error(a)})(e,a)}},7269:(e,a,s)=>{s.r(a),s.d(a,{default:()=>q});var n=s(2791),t=s(3009),i=s(9773),l=s(3464),r=s(9037),d=s(7569),c=s(690),o=s.n(c),h=s(9399),m=s(6167),x=s(2976),u=s(8118),j=s(9127),p=s(4828),g=s(9504),Z=s.n(g),f=s(1087),b=s(8404),y=s(4323),v=s(977),k=s(184);const N=e=>{let{setActiveStep:a,generalIsDone:s,setGeneralIsDone:c}=e;const[g,N]=(0,n.useState)(),[S,w]=(0,n.useState)(!1),[P,_]=(0,n.useState)({}),[D,C]=(0,n.useState)(""),[F,A]=(0,n.useState)(),[U,z]=(0,n.useState)(),[T,M]=(0,n.useState)([]),[I,B]=(0,n.useState)(!1),[q,K]=(0,n.useState)(!1),L=(0,y.Z)(),{isLoading:E,error:G,data:J}=(0,b.a)({queryKey:["general"],queryFn:()=>L.get("vapi/perusahaan/data-umum").then((e=>{var a;return null!==(null===(a=e.data.data)||void 0===a?void 0:a.email_alternatif)&&c(!0),e.data.data}))});(0,n.useEffect)((()=>{!async function(){await fetch("https://api.goapi.io/regional/provinsi?api_key=fb5373cf-3862-580f-a71c-f2aadaf7").then((e=>e.json())).then((e=>M(e.data))).catch((e=>console.log(e)))}()}),[]),(0,n.useEffect)((()=>{_(J),A(null===J||void 0===J?void 0:J.file_pvd),z(null===J||void 0===J?void 0:J.file_npwp)}),[J]),(0,n.useEffect)((()=>{!async function(){await L.get("vapi/perusahaan/list-bidang-usaha").then((e=>{N(e.data.data)})).catch((e=>console.log(e)))}()}),[]);const R=e=>{_((a=>({...a,[e.target.id]:e.target.value})))},W=e=>new Promise((a=>{let s="";const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{s=n.result,a(s)}})),V=e=>{W(e.target.files[0]).then((e=>{A(e.split(",")[1])})).catch((e=>{console.log(e)}))};return(0,k.jsxs)(k.Fragment,{children:[D&&(0,k.jsxs)(d.Z,{className:"rounded-4 d-flex justify-content-between",color:"danger",children:[D,(0,k.jsx)(o(),{icon:"close",onClick:()=>C(!D)})]}),(0,k.jsx)(t.Z,{lg:"12",className:"justify-content-center",children:(0,k.jsx)(i.Z,{lg:"12",children:(0,k.jsx)(l.Z,{className:"rounded-4 w-100",children:E?(0,k.jsx)(r.Z,{children:"Loading..."}):G?(0,k.jsx)(r.Z,{children:"Something went wrong."}):(0,k.jsxs)(r.Z,{children:[(0,k.jsx)("h4",{className:"fw-bold",children:"Data Umum Perusahaan"}),(0,k.jsxs)(h.Z,{onSubmit:async e=>{e.preventDefault(),w(!0),P.file_pvd=F,P.file_npwp=U,await L.post("vapi/perusahaan/store",P).then((()=>{c(!0),(0,v.Z)("success","Data umum perusahaan berhasil disimpan."),a(2)})).catch((e=>{(0,v.Z)("error","Something went wrong."),C(e.response.data.message)})),w(!1)},children:[(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"nama_perusahaan",children:"Nama Perusahaan"}),(0,k.jsx)(u.Z,{type:"text",id:"nama_perusahaan",name:"nama_perusahaan",value:(null===P||void 0===P?void 0:P.nama_perusahaan)||"",className:"form-control",onChange:e=>R(e)})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"uniqueId",children:"Unique ID"}),(0,k.jsx)(u.Z,{type:"text",id:"uniqueId",name:"uniqueId",placeholder:"Auto Generated",value:(null===P||void 0===P?void 0:P.nomor_registrasi)||"",disabled:!0,onChange:e=>R(e)})]})})]}),(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"tipePenyedia",children:"Bidang Usaha"}),(0,k.jsxs)(u.Z,{type:"select",id:"tipePenyedia",name:"tipePenyedia",className:"form-control",value:null===P||void 0===P?void 0:P.tipe,onChange:e=>R(e),children:[(0,k.jsx)("option",{value:"",disabled:!0,children:"- Pilih -"}),(0,k.jsx)("option",{value:"Barang",children:"Barang"}),(0,k.jsx)("option",{value:"Jasa",children:"Jasa"}),(0,k.jsx)("option",{value:"Barang dan Jasa",children:"Barang dan Jasa"})]})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"bentukPerusahaan",children:"Bentuk Perusahaan"}),(0,k.jsxs)(u.Z,{type:"select",id:"bentukPerusahaan",name:"bentukPerusahaan",className:"form-control",value:null===J||void 0===J?void 0:J.bentuk_usaha,onChange:e=>R(e),children:[(0,k.jsx)("option",{value:"",disabled:!0,children:"- Pilih -"}),(0,k.jsx)("option",{value:"PT",children:"PT"}),(0,k.jsx)("option",{value:"CV",children:"CV"}),(0,k.jsx)("option",{value:"Firma",children:"Firma"})]})]})})]}),(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"email_alternatif",children:"Email Perusahaan"}),(0,k.jsx)(u.Z,{type:"email_alternatif",id:"email_alternatif",name:"email_alternatif",className:"form-control",value:(null===P||void 0===P?void 0:P.email_alternatif)||"",onChange:R})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"no_npwp",children:"NPWP"}),(0,k.jsx)(Z(),{mask:"99.999.999.9-999.999",type:"text",id:"no_npwp",name:"no_npwp",className:"form-control",value:(null===P||void 0===P?void 0:P.no_npwp)||"",onChange:R})]})})]}),(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"id_bidang",children:"Bidang Usaha"}),(0,k.jsxs)(u.Z,{type:"select",id:"id_bidang",name:"id_bidang",className:"form-control",value:(null===P||void 0===P?void 0:P.id_bidang)||"",onChange:R,children:[(0,k.jsx)("option",{value:"",children:"- Pilih -"}),null===g||void 0===g?void 0:g.map((e=>(0,k.jsx)("option",{value:e.id_bidang,children:e.nama_bidang},e.id_bidang)))]})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"hp",children:"Kontak (Aktif WhatsApp)"}),(0,k.jsx)(Z(),{className:"form-control",mask:"+62\\   999 9999 9999",type:"text",id:"hp",name:"hp",value:(null===P||void 0===P?void 0:P.hp)||"",onChange:R})]})})]}),(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"alamat",children:"Alamat Perusahaan"}),(0,k.jsx)(u.Z,{type:"textarea",id:"alamat",name:"alamat",className:"form-control",value:null===P||void 0===P?void 0:P.alamat,onChange:R})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"provinsi",children:"Provinsi"}),(0,k.jsxs)(u.Z,{type:"select",id:"provinsi",name:"provinsi",className:"form-control",value:null===P||void 0===P?void 0:P.provinsi,onChange:R,children:[(0,k.jsx)("option",{value:"",children:"- Pilih -"}),null===T||void 0===T?void 0:T.map((e=>(0,k.jsx)("option",{value:"Aceh",children:e.name},e.id)))]})]})})]}),(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"filePvd",children:"Surat penunjukkan Penanggungjawab Akun PVD"}),null===(null===J||void 0===J?void 0:J.file_pvd)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{type:"file",id:"filePvd",name:"filePvd",className:"form-control",accept:"application/pdf",onChange:e=>V(e)}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("small",{children:(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template surat"})})})]})]}):(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{md:"11",children:I?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{type:"file",id:"filePvd",name:"filePvd",className:"form-control",accept:"application/pdf",onChange:e=>V(e)}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("small",{children:(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template surat"})})})]})]}):(0,k.jsx)(f.rU,{to:"",children:"File Dokumen Akun PVD"})}),(0,k.jsx)(i.Z,{md:"1",children:(0,k.jsx)("button",{type:"button",style:{border:"none",background:"none"},children:(0,k.jsx)(o(),{icon:"".concat(I?"close":"edit"),onClick:()=>{B(!I)},className:"text-muted",style:{fontSize:"20px"}})})})]})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"fileNpwp",children:"Upload NPWP"}),null===(null===J||void 0===J?void 0:J.file_pvd)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{type:"file",id:"filePvd",name:"filePvd",className:"form-control",accept:"application/pdf",onChange:e=>V(e)}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("small",{children:(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template surat"})})})]})]}):(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{md:"10",children:q?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{type:"file",id:"fileNpwp",name:"fileNpwp",className:"form-control",onChange:e=>(e=>{W(e.target.files[0]).then((e=>{z(e.split(",")[1])})).catch((e=>{console.log(e)}))})(e),accept:"application/pdf"}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("small",{children:(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template surat"})})})]})]}):(0,k.jsx)(f.rU,{to:"",children:"File Dokumen NPWP"})}),(0,k.jsx)(i.Z,{md:"1",children:(0,k.jsx)("button",{type:"button",style:{border:"none",background:"none"},children:(0,k.jsx)(o(),{icon:"".concat(q?"close":"edit"),onClick:()=>{K(!q)},className:"text-muted",style:{fontSize:"20px"}})})})]})]})})]}),(0,k.jsx)(m.Z,{className:"d-flex justify-content-end",children:s?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.Z,{type:"submit",color:"secondary",className:"me-2","aria-expanded":"false",outline:!0,children:S?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Mengirim.."]}):"Update"}),(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2","aria-expanded":"false",onClick:()=>a(2),children:"Selanjutnya"})]}):(0,k.jsx)(j.Z,{type:"submit",color:"primary",className:"me-2","aria-expanded":"false",disabled:S,children:S?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Mengirim.."]}):"Selanjutnya"})})]})]})})})})]})};var S=s(8755);const w=e=>{var a;let{setActiveStep:s,officialIsDone:c,setOfficialIsDone:g}=e;const[N,w]=(0,n.useState)(!1),[P,_]=(0,n.useState)(!1),[D,C]=(0,n.useState)(""),[F,A]=(0,n.useState)(""),[U,z]=(0,n.useState)(!1),[T,M]=(0,n.useState)(),[I,B]=(0,n.useState)(),[q,K]=(0,n.useState)(),[L,E]=(0,n.useState)(!1),[G,J]=(0,n.useState)(!1),R=(0,y.Z)(),{isLoading:W,error:V,data:O,refetch:Y}=(0,b.a)({queryKey:["jajaran"],queryFn:()=>R.get("vapi/jajaran/my").then((e=>(null!==e.data.data.struktur_filename&&g(!0),e.data.data)))}),H=e=>{B((a=>({...a,[e.target.id]:e.target.value})))},Q=e=>{const a=e.target.files[0],{type:s}=a;var n;"application/pdf"!==s?console.log("file not allowed!"):(n=a,new Promise((e=>{let a="";const s=new FileReader;s.readAsDataURL(n),s.onload=()=>{a=s.result,e(a)}}))).then((e=>{K(e.split(",")[1])})).catch((e=>{console.log(e)}))},X=async()=>{E(!0),await R.post("vapi/file/upload",{file:q,whatfile:"struktur"}).then((()=>{Y(),g(!0),s(3),(0,v.Z)("success","Data Direksi/Komisaris perusahaan berhasil disimpan"),J(!1)})).catch((()=>(0,v.Z)("error","Something went wrong."))),E(!1)};return(0,k.jsxs)(k.Fragment,{children:[D&&(0,k.jsxs)(d.Z,{className:"rounded-4 d-flex justify-content-between",color:"danger",children:[D,(0,k.jsx)(o(),{icon:"close",onClick:()=>C(!D)})]}),F&&(0,k.jsxs)(d.Z,{className:"rounded-4 d-flex justify-content-between",color:"success",children:[F,(0,k.jsx)(o(),{icon:"close",onClick:()=>A(!F)})]}),(0,k.jsx)(t.Z,{lg:"12",className:"justify-content-center",children:(0,k.jsx)(i.Z,{lg:"12",children:(0,k.jsx)(l.Z,{className:"rounded-4 w-100",children:(0,k.jsxs)(r.Z,{children:[(0,k.jsx)("h4",{className:"fw-bold",children:"Jajaran Direksi/Komisaris Perusahaan"}),W?"Loading..":V?"Something went wrong.":(null===O||void 0===O||null===(a=O.list)||void 0===a?void 0:a.length)>0?(0,k.jsx)(S.Z,{hover:!0,children:(0,k.jsx)("tbody",{children:O.list.map(((e,a)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:a+1}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.nama}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.jabatan}),(0,k.jsx)("td",{style:{textAlign:"right",width:"100px"},children:U&&T===e.id?(0,k.jsx)("span",{className:"text-danger",children:"Deleting.."}):(0,k.jsx)(o(),{icon:"delete",style:{fontSize:"16px",cursor:"pointer",color:"red"},onClick:()=>(async e=>{M(e),z(!0),await R.post("vapi/jajaran/delete/".concat(e)).then((()=>{Y()})).catch((e=>console.log(e))),z(!1),M()})(e.id)})})]},e.id)))})}):(0,k.jsx)("div",{className:"d-flex justify-content-center",children:(0,k.jsx)("p",{className:"text-muted",children:"Belum ada data."})}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-2",children:N?(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>w(!1),content:"center",children:"Tutup"}):(0,k.jsx)(j.Z,{className:"mb-4",type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>w(!0),children:"Tambah Direksi/Komisaris"})}),N&&(0,k.jsx)(h.Z,{onSubmit:async e=>{e.preventDefault(),_(!0),await R.post("vapi/jajaran/store",I).then((()=>{A("Data direksi/komisaris berhasil disimpan."),w(!1),Y()})).catch((()=>C("Gagal menyimpan data. Silakan coba lagi."))),_(!1)},children:(0,k.jsx)(i.Z,{className:"bg-light-primary rounded-4 px-3 pt-3 mb-4 mt-2",children:(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"nama",children:"Nama"}),(0,k.jsx)(u.Z,{type:"text",id:"nama",name:"nama",className:"form-control",onChange:e=>H(e),required:!0})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"3",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"jabatan",children:"Jabatan"}),(0,k.jsx)(u.Z,{type:"text",id:"jabatan",name:"jabatan",className:"form-control",onChange:e=>H(e)})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"3",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"no_npwp_direksi",children:"Nomor NPWP"}),(0,k.jsx)(Z(),{mask:"99.999.999.9-999.999",type:"text",id:"no_npwp_direksi",name:"no_npwp_direksi",className:"form-control",onChange:e=>H(e)})]})}),(0,k.jsxs)(i.Z,{sm:"12",lg:"2",className:"d-flex flex-column gap-2",children:[(0,k.jsx)("span",{children:"\xa0"}),(0,k.jsx)(j.Z,{type:"submit","aria-expanded":"false",disabled:P,children:P?(0,k.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Mengirim.."]}):"Tambah"})]})]})})}),(0,k.jsx)(t.Z,{children:G||null===(null===O||void 0===O?void 0:O.struktur_filename)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.Z,{md:"12",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsxs)(x.Z,{htmlFor:"strukturFile",children:[G?"Udpdate File":"Upload"," Struktur & NPWP Jajaran Direksi/Komisaris Perusahaan"]}),(0,k.jsx)(u.Z,{type:"file",id:"strukturFile",name:"strukturFile",onChange:e=>Q(e),accept:"application/pdf",required:!0}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("small",{children:(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template"})})})]})]})}),G&&(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{md:"1",children:(0,k.jsx)(j.Z,{type:"button",size:"sm",color:"secondary",outline:!0,onClick:()=>J(!1),children:"Cancel"})}),(0,k.jsx)(i.Z,{md:"1",children:(0,k.jsx)(j.Z,{type:"button",size:"sm",disabled:L,onClick:X,children:L?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Uploading.."]}):"Upload"})})]})})]}):(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(i.Z,{md:"10",children:[(0,k.jsx)(x.Z,{children:"Struktur & NPWP Jajaran Direksi/Komisaris Perusahaan"}),(0,k.jsxs)("div",{className:"d-flex gap-5",children:[(0,k.jsxs)(f.rU,{children:["File ",null===O||void 0===O?void 0:O.struktur_filename]}),(0,k.jsx)("button",{type:"button",style:{border:"none",background:"none"},children:(0,k.jsx)(o(),{icon:"".concat(G?"close":"edit"),onClick:()=>{J(!G)},className:"text-muted",style:{fontSize:"20px"}})})]})]})})}),(0,k.jsx)(t.Z,{children:(0,k.jsxs)(m.Z,{className:"d-flex justify-content-end",children:[(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",outline:!0,onClick:()=>s(1),children:"Sebelumnya"}),c?(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",onClick:()=>s(3),children:"Selanjutnya"}):(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",disabled:L,onClick:X,children:L?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Mengirim.."]}):"Simpan"})]})})]})})})})]})};var P=s(7493);const _=e=>{let{setSuccessMsg:a,setErrMsg:s}=e;const[l,r]=(0,n.useState)(),[d,c]=(0,n.useState)(),[g,Z]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[_,D]=(0,n.useState)(!1),[C,F]=(0,n.useState)(!1),A=(0,y.Z)(),{isLoading:U,error:z,data:T,refetch:M}=(0,b.a)({queryKey:["akta"],queryFn:()=>A.get("vapi/akta/view").then((e=>e.data.data))}),I=e=>{r((a=>({...a,[e.target.id]:e.target.value})))};(0,n.useEffect)((()=>{0===(null===T||void 0===T?void 0:T.length)&&F(!0)}),[T]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h5",{children:"Akta Pendirian Perusahaan"}),U?"Loading..":z?"Something went wrong.":T.length>0&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(S.Z,{hover:!0,responsive:!0,bordered:!0,children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Nomor Akta"}),(0,k.jsx)("th",{children:"Tanggal Terbit"}),(0,k.jsx)("th",{children:"Nama Notaris"}),(0,k.jsx)("th",{children:"Jenis"}),(0,k.jsx)("th",{children:"File"}),(0,k.jsx)("th",{style:{textAlign:"right"},children:"Action"})]})}),(0,k.jsx)("tbody",{children:T.map((e=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:e.no_akta}),(0,k.jsx)("td",{children:e.tgl_terbit}),(0,k.jsx)("td",{children:e.nama_notaris}),(0,k.jsx)("td",{children:e.jenis}),(0,k.jsx)("td",{children:(0,k.jsx)("abbr",{title:"Download file",children:(0,k.jsx)(f.rU,{to:"",children:(0,k.jsx)(o(),{icon:"download"})})})}),(0,k.jsx)("td",{style:{textAlign:"right",width:"100px"},children:_&&N===e.id_akta?(0,k.jsx)("span",{className:"text-danger",children:"Deleting.."}):(0,k.jsx)(o(),{icon:"delete",style:{fontSize:"16px",cursor:"pointer",color:"red"},onClick:()=>(async e=>{w(e),D(!0),await A.get("vapi/akta/delete/".concat(e)).then((()=>{M()})).catch((e=>console.log(e))),D(!1)})(e.id_akta)})})]},e.id_akta)))})]}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-2",children:C?(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>F(!1),content:"center",children:"Tutup"}):(0,k.jsx)(j.Z,{className:"mb-4",type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>F(!0),children:"Tambah Akta"})})]}),C&&(0,k.jsx)(h.Z,{onSubmit:async e=>{e.preventDefault(),Z(!0),l.file=d,l.jenis="Pendirian",await A.post("vapi/akta/store",l).then((()=>{M(),F(!1),(0,v.Z)("success","Data berhasil disimpan"),a("Data Akta Pendirian Perusahaan berhasil disimpan.")})).catch((()=>{(0,v.Z)("error","Gagal menyimpan data"),s("Gagal menyimpan data. Silakan coba lagi.")})),Z(!1)},children:(0,k.jsxs)(i.Z,{className:"bg-light-primary rounded-4 px-3 pt-3 pb-1 mt-3 mb-3",children:[(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"no_akta",children:"Akta Pendirian Perusahaan"}),(0,k.jsx)(u.Z,{type:"text",id:"no_akta",name:"no_akta",placeholder:"Nomor",onChange:e=>I(e)})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"tgl_terbit",children:"\xa0"}),(0,k.jsx)(u.Z,{type:"date",id:"tgl_terbit",name:"tgl_terbit",placeholder:"Tanggal dikeluarkan",onChange:e=>I(e)})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"nama_notaris",children:"\xa0"}),(0,k.jsx)(u.Z,{type:"text",id:"nama_notaris",name:"nama_notaris",placeholder:"Notaris",onChange:e=>I(e)})]})})]}),(0,k.jsxs)(t.Z,{className:"mb-4",children:[(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{className:"position-relative",children:[(0,k.jsx)(u.Z,{type:"file",id:"fileAktaPendirian",name:"fileAktaPendirian",onChange:e=>(e=>{(0,P.Z)(e.target.files[0]).then((e=>c(e.split(",")[1]))).catch((e=>console.log(e)))})(e)}),(0,k.jsx)("small",{className:"text-muted position-absolute",children:"Upload file (max. 10mb)"})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsx)(j.Z,{type:"submit",color:"secondary",children:g?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Menyimpan.."]}):"Simpan"})})]})]})})]})},D=e=>{let{setSuccessMsg:a,setErrMsg:s}=e;const[l,r]=(0,n.useState)(),[d,c]=(0,n.useState)(),[g,Z]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[_,D]=(0,n.useState)(!1),[C,F]=(0,n.useState)(!1),A=(0,y.Z)(),{isLoading:U,error:z,data:T,refetch:M}=(0,b.a)({queryKey:["izin"],queryFn:()=>A.get("vapi/izin/my").then((e=>e.data.data))});(0,n.useEffect)((()=>{0===(null===T||void 0===T?void 0:T.length)&&F(!0)}),[T]);const I=e=>{r((a=>({...a,[e.target.id]:e.target.value})))};return(0,k.jsxs)(k.Fragment,{children:[U?"Loading..":z?"Something went wrong.":T.length>0&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h5",{children:"Izin Berusaha"}),(0,k.jsxs)(S.Z,{hover:!0,responsive:!0,bordered:!0,children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Nomor"}),(0,k.jsx)("th",{children:"Nama Izin"}),(0,k.jsx)("th",{children:"Tanggal Terbit"}),(0,k.jsx)("th",{children:"Tanggl Berakhir"}),(0,k.jsx)("th",{children:"File"}),(0,k.jsx)("th",{style:{textAlign:"right"},children:"Action"})]})}),(0,k.jsx)("tbody",{children:T.map((e=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:e.nomor}),(0,k.jsx)("td",{children:e.nama_izin}),(0,k.jsx)("td",{children:e.tgl_terbit}),(0,k.jsx)("td",{children:e.tgl_berakhir}),(0,k.jsx)("td",{children:(0,k.jsx)("abbr",{title:"Download file",children:(0,k.jsx)(f.rU,{to:"",children:(0,k.jsx)(o(),{icon:"download"})})})}),(0,k.jsx)("td",{style:{textAlign:"right",width:"100px"},children:_&&N===e.id_izin?(0,k.jsx)("span",{className:"text-danger",children:"Deleting.."}):(0,k.jsx)(o(),{icon:"delete",style:{fontSize:"16px",cursor:"pointer",color:"red"},onClick:()=>(async e=>{w(e),D(!0),await A.get("vapi/izin/delete/".concat(e)).then((()=>{M()})).catch((e=>console.log(e))),D(!1)})(e.id_izin)})})]},e.id_izin)))})]}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-2",children:C?(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>F(!1),content:"center",children:"Tutup"}):(0,k.jsx)(j.Z,{className:"mb-4",type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>F(!0),children:"Tambah Izin"})})]}),C&&(0,k.jsx)(h.Z,{onSubmit:async e=>{e.preventDefault(),Z(!0),l.file=d,await A.post("vapi/izin/store",l).then((()=>{M(),F(!1),(0,v.Z)("success","Simpan data berhasil"),a("Data Izin Berusaha Perusahaan berhasil disimpan.")})).catch((()=>{(0,v.Z)("error","Gagal menyimpan data"),s("Gagal menyimpan data. Silakan coba lagi.")})),Z(!1)},children:(0,k.jsxs)(i.Z,{className:"bg-light-primary rounded-4 px-3 pt-3 pb-1 mt-3 mb-3",children:[(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"nomor",children:"Nomor Izin Berusaha"}),(0,k.jsx)(u.Z,{type:"text",id:"nomor",name:"nomor",placeholder:"Nomor",onChange:e=>I(e)})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"tgl_terbit",children:"Tanggal Dikeluarkan"}),(0,k.jsx)(u.Z,{type:"date",id:"tgl_terbit",name:"tgl_terbit",placeholder:"Tanggal dikeluarkan",onChange:e=>I(e),required:!0})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(x.Z,{htmlFor:"tgl_berakhir",children:"Berakhir"}),(0,k.jsx)(u.Z,{type:"date",id:"tgl_berakhir",name:"tgl_berakhir",placeholder:"Tanggal Berakhir",onChange:e=>I(e),required:!0})]})})]}),(0,k.jsxs)(t.Z,{className:"mb-4",children:[(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsxs)(m.Z,{className:"position-relative",children:[(0,k.jsx)(u.Z,{type:"file",id:"file",name:"file",onChange:e=>(e=>{(0,P.Z)(e.target.files[0]).then((e=>c(e.split(",")[1]))).catch((e=>console.log(e)))})(e),required:!0}),(0,k.jsx)("small",{className:"text-muted position-absolute",children:"Upload file (max. 10mb)"})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"4",children:(0,k.jsx)(j.Z,{type:"submit",color:"secondary",children:g?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Menyimpan.."]}):"Simpan"})})]})]})})]})},C=e=>{let{title:a,filename:s,children:n}=e;return(0,k.jsxs)(t.Z,{className:"mb-4",children:[(0,k.jsx)("span",{children:a}),(0,k.jsx)(i.Z,{sm:"12",lg:"12",className:"file-view",children:(0,k.jsxs)("div",{className:"d-flex rounded-2 border align-items-center justify-content-between overflow-hidden",children:[(0,k.jsx)("div",{className:"h-100 d-flex p-3 bg-success",children:(0,k.jsx)(o(),{icon:"text_snippet",style:{color:"white"}})}),(0,k.jsx)("div",{className:"d-flex w-100 px-3 fw-bold",children:(0,k.jsx)(f.rU,{children:s})}),(0,k.jsx)("div",{className:"d-flex p-2 ",children:n})]})})]})},F=[{id:1,label:"Company Profil",name:"profil"},{id:2,label:"KTP (Pengurus Yang Tertera Pada Akta Perubahan Terakhir Perusahaan)",name:"ktp"},{id:3,label:"SK Kemenkum HAM",name:"sk_kemenkumham"},{id:4,label:"Pakta Integritas",name:"fakta_integritas",template:!0},{id:5,label:"Surat Pemberitahuan Tahunan (SPT) 3 Tahun Terakhir",name:"spt"},{id:6,label:"Laporan Pajak PPh 3 Bulan Terakhir",name:"pph"},{id:7,label:"Laporan Keuangan 3 Tahun Terakhir (Perusahaan Yang Telah Diaudit Menjadi Nilai Tambah)",name:"lap_keuangan"},{id:8,label:"Rekening Koran 3 Bulan Terakhir",name:"rek_koran"}],A=e=>{let{setSuccessMsg:a,setErrMsg:s}=e;const[l,r]=(0,n.useState)(),[d,c]=(0,n.useState)(),[g,Z]=(0,n.useState)(),[N,S]=(0,n.useState)(!1),[w,_]=(0,n.useState)(!1),D=(0,y.Z)(),{isLoading:A,error:U,data:z,refetch:T}=(0,b.a)({queryKey:["documents"],queryFn:()=>D.get("vapi/file/dokumen-perusahaan").then((e=>e.data.data))}),M=(e,a,s)=>{r(e),c(s),(0,P.Z)(a).then((e=>Z(e.split(",")[1]))).catch((e=>console.log(e)))},I=async e=>{e.preventDefault(),S(!0);const n={whatfile:d,file:g};await D.post("vapi/file/upload",n).then((e=>{!0===e.data.success?((0,v.Z)("success","Upload file berhasil"),a(e.data.message),T(),r(),_(!1)):((0,v.Z)("error","Upload file gagal"),s("Upload file gagal. Silakan coba lagi."))})),S(!1)};return A?"Loading...":U?"Something went wrong.":F.map((e=>z.map((a=>a.id===e.name&&(0,k.jsx)(t.Z,{className:"mb-4",children:(0,k.jsx)(h.Z,{onSubmit:I,children:(0,k.jsx)(m.Z,{children:(0,k.jsxs)(t.Z,{children:[(0,k.jsxs)(x.Z,{htmlFor:e.name,children:[w&&l===e.id?"Update File":""," ",e.label]}),null!==a.file_name?w&&l===e.id?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(i.Z,{sm:"9",children:[(0,k.jsx)(u.Z,{type:"file",id:e.name,name:e.name,onChange:a=>M(e.id,a.target.files[0],e.name),accept:"application/pdf",required:!0}),null!==e&&void 0!==e&&e.template?(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template"})})]}):(0,k.jsx)("small",{className:"text-muted position-absolute",children:"Upload file (max. 10mb)"})]}),(0,k.jsx)(i.Z,{sm:"1",className:"d-flex justify-content-center pb-3 ",children:(0,k.jsx)(j.Z,{type:"button",onClick:()=>{r(),_(!1)},color:"secondary",outline:!0,children:"Cancel"})}),(0,k.jsx)(i.Z,{sm:"2",children:(0,k.jsx)(j.Z,{type:"submit",disabled:e.id!==l||e.id===l&&N,children:N&&e.id===l?(0,k.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Uploading.."]}):"Upload"})})]}):(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"11",children:(0,k.jsx)(C,{title:"",filename:a.file_name})}),(0,k.jsx)(i.Z,{sm:"1",className:"d-flex justify-content-center pb-3 ",children:(0,k.jsx)("button",{type:"button",style:{border:"none",background:"none"},children:(0,k.jsx)(o(),{icon:"edit",className:"text-muted",style:{fontSize:"20px"},onClick:()=>{r(e.id),_(!0)}})})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(i.Z,{sm:"10",children:[(0,k.jsx)(u.Z,{type:"file",id:e.name,name:e.name,onChange:a=>M(e.id,a.target.files[0],e.name),accept:"application/pdf",required:!0}),null!==e&&void 0!==e&&e.template?(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("small",{className:"text-muted",children:"Upload file (max. 10mb)"}),(0,k.jsx)("i",{children:(0,k.jsx)(f.rU,{to:"/",className:"text-decoration-none",children:"*Download template"})})]}):(0,k.jsx)("small",{className:"text-muted position-absolute",children:"Upload file (max. 10mb)"})]}),(0,k.jsx)(i.Z,{sm:"2",children:(0,k.jsx)(j.Z,{type:"submit",block:!0,disabled:e.id!==l||e.id===l&&N,children:N&&e.id===l?(0,k.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Uploading.."]}):"Upload"})})]})]})})})},e.id)))))},U=e=>{let{setActiveStep:a,setSuccessMsg:s,setErrMsg:n,documentIsDone:d}=e;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(t.Z,{lg:"12",className:"justify-content-center",children:(0,k.jsx)(i.Z,{lg:"12",children:(0,k.jsx)(l.Z,{className:"rounded-4 w-100",children:(0,k.jsxs)(r.Z,{children:[(0,k.jsx)("h4",{className:"fw-bold",children:"Dokumen Perusahaan"}),(0,k.jsx)(_,{setSuccessMsg:s,setErrMsg:n}),(0,k.jsx)(D,{setSuccessMsg:s,setErrMsg:n}),(0,k.jsx)(A,{setSuccessMsg:s,setErrMsg:n}),(0,k.jsxs)(m.Z,{className:"d-flex justify-content-end mt-4",children:[(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",outline:!0,onClick:()=>a(2),children:"Sebelumnya"}),(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",disabled:!d,onClick:()=>a(4),children:"Selanjutnya"})]})]})})})})})};function z(){const e=(new Date).getFullYear(),a=[];for(let s=2e3;s<=e;s++)a.push(s);return a}const T=e=>{let{setActiveStep:a,portofolioIsDone:s,setPortofolioIsDone:d,setSuccessMsg:c,setErrMsg:x}=e;const[g,Z]=(0,n.useState)(),[f,N]=(0,n.useState)({}),[w,_]=(0,n.useState)(),[D,C]=(0,n.useState)(!1),[F,A]=(0,n.useState)(!1),[U,T]=(0,n.useState)(void 0),M=(0,y.Z)(),{isLoading:I,error:B,data:q,refetch:K}=(0,b.a)({queryKey:["porto"],queryFn:()=>M.get("vapi/porto/my").then((e=>(e.data.data.length>0?d(!0):d(!1),e.data.data)))}),L=e=>{N((a=>({...a,[e.target.id]:e.target.value})))};return(0,k.jsx)(t.Z,{lg:"12",className:"justify-content-center",children:(0,k.jsx)(i.Z,{lg:"12",children:(0,k.jsx)(l.Z,{className:"rounded-4 w-100",children:(0,k.jsxs)(r.Z,{children:[(0,k.jsx)("h4",{className:"fw-bold",children:"Portofolio Pengalaman"}),I?"Loading...":B?"Something went wrong.":(null===q||void 0===q?void 0:q.length)>0?(0,k.jsx)(S.Z,{hover:!0,children:(0,k.jsx)("tbody",{children:q.map(((e,a)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:a+1}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.nama_project},e.id_porto),(0,k.jsx)("td",{children:e.tahun_mulai}),(0,k.jsx)("td",{children:e.tahun_selesai}),(0,k.jsx)("td",{children:e.durasi}),(0,k.jsx)("td",{children:e.nilai_po}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.owner}),(0,k.jsx)("td",{style:{textAlign:"right",width:"100px"},children:F&&U===e.id_porto?(0,k.jsx)("span",{className:"text-danger",children:"Deleting.."}):(0,k.jsx)(o(),{icon:"delete",style:{fontSize:"16px",cursor:"pointer",color:"red"},onClick:()=>(async e=>{T(e),A(!0),await M.get("vapi/porto/delete/".concat(e)).then((e=>{!0===e.data.success?(K(),c("Portofolio berhasil dihapus.")):x("Data portofolio gagal dihapus. Silakan coba lagi.")})).catch((()=>x("Data portofolio gagal dihapus. Silakan coba lagi."))),A(!1)})(e.id_porto)})})]},e.id_porto)))})}):(0,k.jsx)("div",{className:"d-flex justify-content-center",children:"Belum ada data."}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-2",children:g?(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>Z(!1),content:"center",children:"Tutup"}):(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>Z(!0),children:"Tambah"})}),g&&(0,k.jsx)(h.Z,{onSubmit:async e=>{e.preventDefault(),C(!0),f.file=w,await M.post("vapi/porto/store",f).then((e=>{!0===e.data.success?(K(),(0,v.Z)("success","Portofolio berhasil disimpan"),c("Portofolio berhasil ditambahkan.")):((0,v.Z)("error","Portofolio gagal disimpan"),x("Portofolio gagal disimpan. Silakan coba lagi."))})).catch((()=>x("Something went wrong."))),Z(!1),C(!1)},className:"mt-3",children:(0,k.jsxs)(i.Z,{className:"bg-light-primary rounded-4 px-3 pt-3",children:[(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsx)(m.Z,{children:(0,k.jsx)(u.Z,{type:"text",id:"nama_project",name:"nama_project",placeholder:"Nama Project",onChange:L})})}),(0,k.jsx)(i.Z,{sm:"12",lg:"2",children:(0,k.jsx)(m.Z,{children:(0,k.jsxs)(u.Z,{type:"select",id:"tahun_mulai",name:"tahun_mulai",placeholder:"Tahun Mulai",onChange:L,defaultValue:"",children:[(0,k.jsx)("option",{value:"",disabled:!0,children:"- Tahun Mulai -"}),z().reverse().map((e=>(0,k.jsx)("option",{value:e,children:e},e)))]})})}),(0,k.jsx)(i.Z,{sm:"12",lg:"2",children:(0,k.jsx)(m.Z,{children:(0,k.jsxs)(u.Z,{type:"select",id:"tahun_selesai",name:"tahun_selesai",placeholder:"Tahun Berakhir",onChange:L,defaultValue:"",children:[(0,k.jsx)("option",{value:"",disabled:!0,children:"- Tahun Selesai -"}),z().reverse().map((e=>(0,k.jsx)("option",{value:e,children:e},e)))]})})}),(0,k.jsx)(i.Z,{sm:"12",lg:"3",children:(0,k.jsxs)(m.Z,{className:"position-relative",children:[(0,k.jsx)(u.Z,{type:"file",id:"fileSpk",name:"fileSpk",onChange:e=>{(0,P.Z)(e.target.files[0]).then((e=>_(e.split(",")[1]))).catch((e=>console.log(e)))},accept:"application/pdf"}),(0,k.jsx)("small",{className:"text-muted position-absolute",children:"Upload file SPK (max. 10mb)"})]})})]}),(0,k.jsxs)(t.Z,{className:"mt-3",children:[(0,k.jsx)(i.Z,{sm:"12",lg:"5",children:(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"6",children:(0,k.jsx)(m.Z,{children:(0,k.jsx)(u.Z,{type:"number",id:"durasi",name:"durasi",placeholder:"Durasi (ex. 32 Bulan)",onChange:L})})}),(0,k.jsx)(i.Z,{sm:"12",lg:"6",children:(0,k.jsx)(m.Z,{children:(0,k.jsx)(u.Z,{type:"number",id:"nilai_po",name:"nilai_po",placeholder:"Nilai Pekerjaan",onChange:L})})})]})}),(0,k.jsx)(i.Z,{sm:"12",lg:"7",children:(0,k.jsx)(t.Z,{children:(0,k.jsx)(i.Z,{sm:"12",lg:"12",children:(0,k.jsx)(m.Z,{children:(0,k.jsx)(u.Z,{type:"text",id:"owner",name:"owner",placeholder:"Pemilik Pekerjaan",onChange:L})})})})}),(0,k.jsx)(i.Z,{sm:"12",lg:"2",className:"mb-2",children:(0,k.jsx)(j.Z,{type:"submit",color:"dark",children:D?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Menyimpan.."]}):"Tambah"})})]})]})}),(0,k.jsxs)(m.Z,{className:"d-flex justify-content-end mt-3",children:[(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",outline:!0,onClick:()=>a(3),children:"Sebelumnya"}),(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",onClick:()=>a(5),disabled:!s,children:"Selanjutnya"})]})]})})})})};var M=s(2877);const I=e=>{let{setActiveStep:a,businessFieldIsDone:s,setSuccessMsg:t,setErrMsg:i}=e;const[l,r]=(0,n.useState)(),d=(0,y.Z)();return console.log(s),(0,k.jsxs)(m.Z,{className:"d-flex justify-content-end mt-4",children:[(0,k.jsx)(j.Z,{type:"button",color:"primary",className:"me-2",outline:!0,onClick:()=>a(4),children:"Sebelumnya"}),l?(0,k.jsx)(j.Z,{type:"button",color:"primary",disabled:!0,children:(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Mengirim.."]})}):(0,k.jsxs)(j.Z,{type:"button",color:"success",className:"me-2 d-flex gap-2",onClick:async()=>{r(!0),await d.put("vapi/perusahaan/submit").then((()=>{(0,v.Z)("success","Data berhasil dikirim"),t("Data Perusahaan Anda akan direview oleh Admin. Silakan cek email secara berkala untuk pembaruan status selanjutnya.")})).catch((()=>{i("Gagal mengirim data. Silakan coba lagi.")})),r(!1)},disabled:!s,children:[(0,k.jsx)(o(),{icon:"send"}),"Kirim"]})]})},B=e=>{let{setActiveStep:a,businessFieldIsDone:s,setBusinessFieldIsDone:d,setSuccessMsg:c,setErrMsg:m}=e;const[x,u]=(0,n.useState)(),[g,Z]=(0,n.useState)(!1),[f,N]=(0,n.useState)(!1),[w,P]=(0,n.useState)(),[_,D]=(0,n.useState)(),[C,F]=(0,n.useState)(),A=(0,y.Z)(),{isLoading:U,error:z,data:T,refetch:B}=(0,b.a)({queryKey:["listkbli"],queryFn:()=>A.get("vapi/kbli/view").then((e=>{var a;return(null===(a=e.data.data)||void 0===a?void 0:a.length)>0?d(!0):d(!1),e.data.data}))});(0,n.useEffect)((()=>{!async function(){await A.get("vapi/kbli/list").then((e=>D(e.data.data))).catch((e=>console.log(e)))}()}),[]);return(0,k.jsx)(t.Z,{lg:"12",className:"justify-content-center",children:(0,k.jsx)(i.Z,{lg:"12",children:(0,k.jsx)(l.Z,{className:"rounded-4 w-100",children:(0,k.jsxs)(r.Z,{children:[(0,k.jsx)("h4",{className:"fw-bold",children:"Daftar Bidang Usaha"}),U?"Loading..":z?"Something went wrong.":(0,k.jsx)(S.Z,{hover:!0,children:(null===T||void 0===T?void 0:T.length)>0?(0,k.jsx)("tbody",{children:T.map((e=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{textAlign:"left"},children:"NIB"}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.nomor_kbli}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.nama_kbli}),(0,k.jsx)("td",{style:{textAlign:"left"},children:e.resiko}),(0,k.jsx)("td",{style:{textAlign:"right",width:"100px"},children:f&&C===e.id?(0,k.jsx)("span",{className:"text-danger",children:"Deleting.."}):(0,k.jsx)(o(),{icon:"delete",style:{fontSize:"16px",cursor:"pointer",color:"red"},onClick:()=>(async e=>{F(e),N(!0),await A.delete("vapi/kbli/delete/".concat(e)).then((()=>{B(),(0,v.Z)("success","KBLI berhasil dihapus.")})).catch((()=>{(0,v.Z)("error","Gagal menghapus data. Silakan coba lagi.")})),N(!1)})(e.id)})})]},e.id)))}):(0,k.jsx)("tbody",{children:(0,k.jsx)("tr",{children:(0,k.jsx)("td",{children:"Belum ada data."})})})}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-2",children:x?(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>u(!1),content:"center",children:"Tutup"}):(0,k.jsx)(j.Z,{type:"button",color:"dark",size:"sm",outline:!0,onClick:()=>u(!0),children:"Tambah KBLI"})}),x&&(0,k.jsx)(h.Z,{onSubmit:async e=>{e.preventDefault(),Z(!0),await A.post("vapi/kbli/store",{id_kbli:w.value}).then((()=>{B(),(0,v.Z)("success","KBLI berhasil ditambah")})).catch((e=>{409===e.response.status?(0,v.Z)("error","Data KBLI sudah ada."):(0,v.Z)("Gagal menyimpan data. Silakan coba lagi.")})),u(!1),Z(!1)},children:(0,k.jsx)(i.Z,{className:"bg-light-primary rounded-4 px-3 pt-3 mt-3",children:(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(i.Z,{sm:"12",lg:"8",className:"mb-3",children:(0,k.jsx)(M.ZP,{closeMenuOnSelect:!0,options:_,onChange:e=>P(e)})}),(0,k.jsx)(i.Z,{sm:"12",lg:"2",children:(0,k.jsx)(j.Z,{type:"submit",color:"dark",children:g?(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)(p.Z,{size:"sm"}),"Menyimpan.."]}):"Tambah"})})]})})}),(0,k.jsx)(I,{setActiveStep:a,businessFieldIsDone:s,setSuccessMsg:c,setErrMsg:m})]})})})})},q=()=>{const[e,a]=(0,n.useState)(1),[s,c]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),[x,u]=(0,n.useState)(!1),[j,p]=(0,n.useState)(!1),[g,Z]=(0,n.useState)(!1),[f,b]=(0,n.useState)(),[v,S]=(0,n.useState)(),P=(0,y.Z)();(0,n.useEffect)((()=>{!async function(){await P.get("vapi/perusahaan/document-status").then((e=>u(e.data.data)))}(),async function(){await P.get("vapi/perusahaan/jajaran-status").then((e=>m(e.data.data)))}(),async function(){await P.get("vapi/perusahaan/portofolio-status").then((e=>p(e.data.data)))}(),async function(){await P.get("vapi/perusahaan/bidangusaha-status").then((e=>Z(e.data.data)))}()}),[]);const _=[{id:1,title:"Data Umum Perusahaan",isDone:s},{id:2,title:"Jajaran Direksi/Komisaris Perusahaan",isDone:h},{id:3,title:"Dokumen Perusahaan",isDone:x},{id:4,title:"Portofolio Pengalaman",isDone:j},{id:5,title:"Daftar Bidang Usaha",isDone:g}];return(0,n.useEffect)((()=>{f&&setTimeout((()=>{b()}),5e3),v&&setTimeout((()=>{S()}),5e3)}),[f,v]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.Z,{lg:"12",className:"justify-content-center",children:(0,k.jsx)(i.Z,{lg:"12",children:(0,k.jsx)(l.Z,{className:"rounded-4 w-100",children:(0,k.jsx)(r.Z,{children:(0,k.jsx)("div",{className:"step-container",children:_.map((s=>(0,k.jsxs)("div",{className:"step-item ".concat(s.isDone&&"done hover"),onClick:()=>s.isDone?a(s.id):"",children:[(0,k.jsx)("div",{className:"step-title ".concat(e===s.id?"text-dark":"text-muted"),children:s.title}),(0,k.jsx)("div",{className:"step-circle ".concat(s.isDone&&"done"),children:(0,k.jsx)(o(),{icon:"".concat(s.isDone?"check":s.id===e?"update":"adjust")})})]},s.id)))})})})})}),f&&(0,k.jsxs)(d.Z,{className:"rounded-4 d-flex justify-content-between text-success fw-bold",color:"success",children:[f,(0,k.jsx)(o(),{icon:"close",onClick:()=>b(!f)})]}),v&&(0,k.jsxs)(d.Z,{className:"rounded-4 d-flex justify-content-between text-danger fw-bold",color:"danger",children:[v,(0,k.jsx)(o(),{icon:"close",onClick:()=>S(!v)})]}),(0,k.jsxs)("div",{children:[1===e&&(0,k.jsx)(N,{setActiveStep:a,generalIsDone:s,setGeneralIsDone:c}),2===e&&(0,k.jsx)(w,{setActiveStep:a,officialIsDone:h,setOfficialIsDone:m}),3===e&&(0,k.jsx)(U,{setActiveStep:a,setSuccessMsg:b,setErrMsg:S,documentIsDone:x}),4===e&&(0,k.jsx)(T,{setActiveStep:a,portofolioIsDone:j,setPortofolioIsDone:p,setSuccessMsg:b,setErrMsg:S}),5===e&&(0,k.jsx)(B,{setActiveStep:a,businessFieldIsDone:g,setBusinessFieldIsDone:Z,setSuccessMsg:b,setErrMsg:S})]})]})}},7493:(e,a,s)=>{s.d(a,{Z:()=>n});const n=e=>new Promise((a=>{let s="";const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{s=n.result,a(s)}}))}}]);
//# sourceMappingURL=269.8561cbb6.chunk.js.map